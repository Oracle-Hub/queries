set line 200
col "Tablespace" for a30
col "Used MB" for 99,999,999
col "Free MB" for 99,999,999
col "Total MB" for 99,999,999
col "Block Size" for 9,999,999
set pagesize 100
select
df.tablespace_name "Tablespace",block_size "Block Size",(df.totalspace - fs.freespace) "Used MB",
fs.freespace "Free MB",df.totalspace "Total MB",round(100 * (fs.freespace / df.totalspace)) "Pct. Free"
From dba_tablespaces ts,(select tablespace_name,round(sum(bytes) / 1048576) TotalSpace from dba_data_files
group by tablespace_name) df,(select tablespace_name,round(sum(bytes) / 1048576) FreeSpace from dba_free_space group by tablespace_name) fs where ts.tablespace_name = fs.tablespace_name and
df.tablespace_name = fs.tablespace_name(+) order by "Pct. Free";



set echo off
set feedback off
set verify off
col CUST_DB_ID format     a20  justify c heading 'Cust_DB_ID'
col report_name format    a20  justify c heading 'REPORT_NAME'
col report_date format    a20  justify c heading 'REPORT_DATE'
set linesize 80
set pagesize 40
column total format a15
column free format a15
column allocated format a15
column name heading 'Database|Name'
select name  from v$database;
prompt
prompt Database Size in GBytes

select
        TO_CHAR(a.data_size + b.temp_size + c.redo_size + d.controlfile_size) total,
        TO_CHAR(e.free) free,
        TO_CHAR((a.data_size + b.temp_size + c.redo_size + d.controlfile_size) - e.free) allocated
from
       (select round(sum(bytes) / 1024 / 1024 / 1024,2) data_size from dba_data_files ) a,
           (select round(nvl(sum(bytes), 0) / 1024 / 1024 / 1024,2) temp_size
          from dba_temp_files) b,
                  (select round(sum(bytes) / 1024 / 1024 / 1024,2) redo_size from sys.v_$log) c,
                  (select round(sum(BLOCK_SIZE * FILE_SIZE_BLKS) / 1024 / 1024 / 1024,2) controlfile_size
          from v$controlfile) d,
       (select round(sum(bytes/1024/1024/1024),2) free
        from dba_free_space) e
/
